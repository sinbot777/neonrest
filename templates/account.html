{% extends 'base.html' %}
{% block title %}Account Settings - Neonrest{% endblock %}

{% block content %}
  <div class="user-page">
    <div class="user-header">
      <div class="glow large">Account Settings</div>
      <p>{{ session.user_email }}</p>
    </div>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flash-container">
          {% for category, message in messages %}
            <div class="flash flash-{{ category }}">{{ message }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <div class="user-section">
      <h2>Update Handle</h2>
      <form method="POST" action="/account">
        <input type="text" name="handle" value="{{ session.user_handle }}" required>
        <button type="submit">Save</button>
      </form>
    </div>

    <div class="user-section">
      <h2>Change Password</h2>
      <form method="POST" action="/account">
        <input type="password" name="new_password" placeholder="New password" required>
        <button type="submit">Change Password</button>
      </form>
    </div>
  </div>
{% endblock %}
